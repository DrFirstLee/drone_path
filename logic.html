<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë“œë¡  ë¹„í–‰ ë¶„ì„ íŒŒì´í”„ë¼ì¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;600&display=swap');

        :root {
            --bg: #0d1117;
            --bg2: #161b22;
            --bg3: #21262d;
            --border: #30363d;
            --text: #e6edf3;
            --text2: #8b949e;
            --blue: #58a6ff;
            --green: #3fb950;
            --orange: #ff7b37;
            --purple: #bc8cff;
            --yellow: #e3b341;
            --red: #f85149;
            --cyan: #39d353;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.7;
            padding: 40px 20px 80px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* â”€â”€ Header â”€â”€ */
        header {
            text-align: center;
            margin-bottom: 60px;
        }

        header .badge {
            display: inline-block;
            background: linear-gradient(135deg, #1f6feb, #388bfd);
            color: #fff;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 2px;
            padding: 4px 14px;
            border-radius: 20px;
            margin-bottom: 16px;
            text-transform: uppercase;
        }

        header h1 {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
        }

        header p {
            color: var(--text2);
            font-size: 1rem;
        }

        /* â”€â”€ Timeline (pipeline flow) â”€â”€ */
        .pipeline {
            position: relative;
            padding-left: 44px;
        }

        .pipeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--blue), var(--purple), var(--orange));
            border-radius: 2px;
        }

        .step {
            position: relative;
            margin-bottom: 40px;
            animation: fadeIn 0.5s ease both;
        }

        .step:nth-child(1) {
            animation-delay: 0.1s;
        }

        .step:nth-child(2) {
            animation-delay: 0.2s;
        }

        .step:nth-child(3) {
            animation-delay: 0.3s;
        }

        .step:nth-child(4) {
            animation-delay: 0.4s;
        }

        .step:nth-child(5) {
            animation-delay: 0.5s;
        }

        .step:nth-child(6) {
            animation-delay: 0.6s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateX(-12px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .step-dot {
            position: absolute;
            left: -37px;
            top: 18px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 800;
            border: 2px solid var(--bg);
            z-index: 1;
        }

        .card {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px 28px;
            transition: border-color 0.2s, transform 0.2s;
        }

        .card:hover {
            border-color: var(--blue);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .card-icon {
            font-size: 1.4rem;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text);
        }

        .card-subtitle {
            font-size: 0.78rem;
            color: var(--text2);
            margin-top: 2px;
        }

        .card-body {
            color: var(--text2);
            font-size: 0.92rem;
        }

        /* â”€â”€ Feature Tags â”€â”€ */
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 14px 0;
        }

        .tag {
            background: var(--bg3);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 4px 12px;
            font-size: 0.8rem;
            font-family: 'JetBrains Mono', monospace;
            color: var(--cyan);
        }

        /* â”€â”€ State Badges â”€â”€ */
        .state-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 14px;
        }

        .state-item {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--bg3);
            border-radius: 8px;
            padding: 10px 14px;
        }

        .state-badge {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 800;
            font-family: 'JetBrains Mono', monospace;
            flex-shrink: 0;
        }

        .state-body {
            flex: 1;
        }

        .state-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text);
        }

        .state-desc {
            font-size: 0.8rem;
            color: var(--text2);
            margin-top: 2px;
        }

        /* â”€â”€ Code Block â”€â”€ */
        .code-block {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px 18px;
            margin: 14px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.82rem;
            color: #a5d6ff;
            overflow-x: auto;
            white-space: pre;
        }

        .code-block .cm {
            color: var(--text2);
        }

        .code-block .kw {
            color: var(--purple);
        }

        .code-block .fn {
            color: var(--yellow);
        }

        .code-block .num {
            color: var(--orange);
        }

        .code-block .str {
            color: var(--green);
        }

        /* â”€â”€ Decision Box â”€â”€ */
        .decision {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 14px;
        }

        .decision-box {
            border-radius: 10px;
            padding: 14px 16px;
            font-size: 0.85rem;
            border: 1px solid transparent;
        }

        .decision-yes {
            background: rgba(63, 185, 80, 0.08);
            border-color: rgba(63, 185, 80, 0.3);
        }

        .decision-yes .label {
            color: var(--green);
            font-weight: 700;
            margin-bottom: 6px;
        }

        .decision-no {
            background: rgba(255, 123, 55, 0.08);
            border-color: rgba(255, 123, 55, 0.3);
        }

        .decision-no .label {
            color: var(--orange);
            font-weight: 700;
            margin-bottom: 6px;
        }

        .decision-box p {
            color: var(--text2);
            line-height: 1.5;
        }

        /* â”€â”€ Pattern Box â”€â”€ */
        .pattern-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 14px;
        }

        .pattern-box {
            background: var(--bg3);
            border-radius: 8px;
            padding: 12px 14px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.82rem;
        }

        .pattern-before {
            color: var(--text2);
            margin-bottom: 4px;
        }

        .pattern-after {
            color: var(--green);
            font-weight: 600;
        }

        .pattern-label {
            font-size: 0.72rem;
            color: var(--text2);
            margin-bottom: 8px;
            font-family: 'Noto Sans KR', sans-serif;
        }

        /* â”€â”€ Map Legend â”€â”€ */
        .legend {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 14px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 14px;
            background: var(--bg3);
            border-radius: 8px;
            padding: 10px 14px;
        }

        .legend-line {
            width: 48px;
            height: 4px;
            border-radius: 2px;
            flex-shrink: 0;
        }

        .legend-meta {
            flex: 1;
        }

        .legend-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text);
        }

        .legend-detail {
            font-size: 0.78rem;
            color: var(--text2);
        }

        /* â”€â”€ Summary Table â”€â”€ */
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 14px;
            font-size: 0.87rem;
        }

        .summary-table th {
            background: var(--bg3);
            color: var(--text2);
            font-weight: 600;
            padding: 10px 14px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .summary-table td {
            padding: 10px 14px;
            border-bottom: 1px solid var(--border);
            color: var(--text2);
            vertical-align: middle;
        }

        .summary-table tr:hover td {
            background: var(--bg3);
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.82rem;
        }

        /* â”€â”€ Section Title â”€â”€ */
        .section-label {
            font-size: 0.73rem;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: var(--text2);
            margin-bottom: 8px;
        }

        /* â”€â”€ Info callout â”€â”€ */
        .callout {
            background: rgba(88, 166, 255, 0.07);
            border-left: 3px solid var(--blue);
            border-radius: 0 8px 8px 0;
            padding: 12px 16px;
            margin-top: 14px;
            font-size: 0.85rem;
            color: var(--text2);
        }

        .callout strong {
            color: var(--blue);
        }

        /* â”€â”€ Footer â”€â”€ */
        footer {
            text-align: center;
            margin-top: 60px;
            color: var(--text2);
            font-size: 0.8rem;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }
    </style>
</head>

<body>
    <div class="container">

        <!-- 3ì¤„ ìš”ì•½ ë°°ë„ˆ -->
        <div style="
            background: linear-gradient(135deg, rgba(31,111,235,0.12), rgba(188,140,255,0.10));
            border: 1px solid rgba(88,166,255,0.25);
            border-radius: 14px;
            padding: 22px 28px;
            margin-bottom: 36px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        ">
            <div
                style="font-size:0.72rem; font-weight:700; letter-spacing:2px; text-transform:uppercase; color:#8b949e; margin-bottom:4px;">
                ğŸ“‹ 3ì¤„ ìš”ì•½</div>
            <div style="display:flex; align-items:flex-start; gap:12px;">
                <span
                    style="background:linear-gradient(135deg,#1f6feb,#388bfd); color:#fff; border-radius:6px; padding:2px 9px; font-size:0.78rem; font-weight:700; flex-shrink:0; margin-top:1px;">1</span>
                <span style="color:#e6edf3; font-size:0.95rem; line-height:1.6;"><strong style="color:#58a6ff;">HMM
                        í´ëŸ¬ìŠ¤í„°ë§</strong>ìœ¼ë¡œ ë“œë¡  ë¹„í–‰ êµ¬ê°„ì„ <em>ì§ì„ (Line)</em>ê³¼ <em>íšŒì „(Rotate)</em>ìœ¼ë¡œ ìë™ ë¶„ë¦¬í•˜ê³ , ê° êµ¬ê°„ì— ê³ ìœ  ì„¸ê·¸ë¨¼íŠ¸ IDë¥¼
                    ë¶€ì—¬í•©ë‹ˆë‹¤.</span>
            </div>
            <div style="display:flex; align-items:flex-start; gap:12px;">
                <span
                    style="background:linear-gradient(135deg,#ff7b37,#f85149); color:#fff; border-radius:6px; padding:2px 9px; font-size:0.78rem; font-weight:700; flex-shrink:0; margin-top:1px;">2</span>
                <span style="color:#e6edf3; font-size:0.95rem; line-height:1.6;"><strong style="color:#ff7b37;">PCA ì„ í˜•ì„±
                        + Yaw ë³€í™”ëŸ‰</strong> ë³µí•© ì¡°ê±´ìœ¼ë¡œ íšŒì „ìœ¼ë¡œ ì˜¤ë¶„ë¥˜ëœ ì§ì„  êµ¬ê°„(<em>Rotate_Error</em>)ì„ ì •ë°€ ì‹ë³„í•©ë‹ˆë‹¤.</span>
            </div>
            <div style="display:flex; align-items:flex-start; gap:12px;">
                <span
                    style="background:linear-gradient(135deg,#3fb950,#2ea043); color:#fff; border-radius:6px; padding:2px 9px; font-size:0.78rem; font-weight:700; flex-shrink:0; margin-top:1px;">3</span>
                <span style="color:#e6edf3; font-size:0.95rem; line-height:1.6;"><strong style="color:#3fb950;">ì²´ì¸ ë³‘í•©
                        ì•Œê³ ë¦¬ì¦˜</strong>ìœ¼ë¡œ Line-Error-Line íŒ¨í„´ì„ í•˜ë‚˜ì˜ ì§ì„  ì„¸ê·¸ë¨¼íŠ¸ë¡œ í†µí•© í›„, Folium ì§€ë„ì— ìƒ‰ìƒÂ·ì„  ìŠ¤íƒ€ì¼ì„ ë‹¬ë¦¬í•´ ì‹œê°í™”í•©ë‹ˆë‹¤.</span>
            </div>
        </div>

        <!-- Header -->
        <header>
            <div class="badge">ğŸš Analysis Pipeline</div>
            <h1>ë“œë¡  ë¹„í–‰ ê²½ë¡œ ë¶„ì„</h1>
            <p>HMM í´ëŸ¬ìŠ¤í„°ë§ â†’ Rotate_Error íŒë³„ â†’ ì„¸ê·¸ë¨¼íŠ¸ ë³‘í•©ê¹Œì§€ì˜ ì „ì²´ íë¦„</p>
        </header>

        <!-- Pipeline -->
        <div class="pipeline">

            <!-- STEP 1: HMM Clustering -->
            <div class="step">
                <div class="step-dot" style="background: linear-gradient(135deg,#1f6feb,#388bfd); color:#fff;">1</div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ§ </span>
                        <div>
                            <div class="card-title">HMM í´ëŸ¬ìŠ¤í„°ë§ (ì§ì„  vs íšŒì „ ë¶„ë¦¬)</div>
                            <div class="card-subtitle">GaussianHMM Â· K-Means Fallback</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <p>4ê°€ì§€ ë¹„í–‰ íŠ¹ì„± í”¼ì²˜ë¥¼ í‘œì¤€í™”í•œ ë’¤ <strong style="color:var(--blue)">GaussianHMM (n=2)</strong>ìœ¼ë¡œ ê° ìƒ˜í”Œì„
                            <em>ì§ì„ (Straight)</em>ê³¼ <em>íšŒì „(Turn)</em>, ë‘ ìƒíƒœë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤.
                        </p>

                        <div class="section-label" style="margin-top:16px;">ì…ë ¥ í”¼ì²˜</div>
                        <div class="tags">
                            <span class="tag">Yaw_rate</span>
                            <span class="tag">Yaw_std</span>
                            <span class="tag">Roll_abs</span>
                            <span class="tag">Centripetal_Acc</span>
                        </div>

                        <div class="code-block"><span class="cm"># í”¼ì²˜ í•©ì´ í° í´ëŸ¬ìŠ¤í„° = Turn</span>
                            <span class="kw">model</span> = GaussianHMM(n_components=<span class="num">2</span>,
                            covariance_type=<span class="str">"diag"</span>)
                            df[<span class="str">'State_Raw'</span>] = model.predict(X_scaled)
                            turn_label = argmax(state_means) <span class="cm"># í”¼ì²˜ í•© ê¸°ì¤€</span>

                            <span class="cm"># 0 = Straight / 1 = Turn</span>
                            df[<span class="str">'State'</span>] = (df[<span class="str">'State_Raw'</span>] ==
                            turn_label).astype(int)
                        </div>

                        <div class="state-list">
                            <div class="state-item">
                                <div class="state-badge" style="background:rgba(88,166,255,.15);color:var(--blue);">0
                                </div>
                                <div class="state-body">
                                    <div class="state-name">Straight</div>
                                    <div class="state-desc">YawÂ·Roll ë³€í™” ì‘ìŒ â†’ ì§ì„  ë¹„í–‰ êµ¬ê°„</div>
                                </div>
                            </div>
                            <div class="state-item">
                                <div class="state-badge" style="background:rgba(188,140,255,.15);color:var(--purple);">1
                                </div>
                                <div class="state-body">
                                    <div class="state-name">Turn</div>
                                    <div class="state-desc">YawÂ·Roll ë³€í™” í¼ â†’ íšŒì „ ë˜ëŠ” ë°©í–¥ ì „í™˜ êµ¬ê°„</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 2: Segment ID -->
            <div class="step">
                <div class="step-dot" style="background: linear-gradient(135deg,#bc8cff,#8b5cf6); color:#fff;">2</div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”¢</span>
                        <div>
                            <div class="card-title">ì„¸ê·¸ë¨¼íŠ¸ ID ë¶€ì—¬</div>
                            <div class="card-subtitle">State ì „í™˜ë§ˆë‹¤ ìƒˆ ID ìƒì„±</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <p>Stateê°€ ë°”ë€ŒëŠ” ìˆœê°„ë§ˆë‹¤ ìƒˆ ì„¸ê·¸ë¨¼íŠ¸ ë²ˆí˜¸ë¥¼ ëˆ„ì  ë¶€ì—¬í•©ë‹ˆë‹¤.<br>
                            ì—°ì†ëœ ê°™ì€ StateëŠ” í•˜ë‚˜ì˜ IDë¥¼ ê³µìœ í•©ë‹ˆë‹¤.</p>

                        <div class="code-block">df[<span class="str">'Segment_Change'</span>] = df[<span
                                class="str">'State_Smooth'</span>].diff().abs()
                            df[<span class="str">'Final_Segment_ID'</span>] = Segment_Change.cumsum()

                            <span class="cm"># ì˜ˆ: 0 0 0 1 1 1 0 0 1 1
                                # â†’ ID: 0 0 0 1 1 1 2 2 3 3</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 3: Rotate_Error -->
            <div class="step">
                <div class="step-dot" style="background: linear-gradient(135deg,#ff7b37,#f85149); color:#fff;">3</div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”</span>
                        <div>
                            <div class="card-title">Rotate_Error íŒë³„</div>
                            <div class="card-subtitle">PCA ì„ í˜•ì„± + Yaw ì´ ë³€í™”ëŸ‰ ë³µí•© íŒë‹¨</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <p>HMMì´ <em>Turn(1)</em>ìœ¼ë¡œ ë¶„ë¥˜í•œ êµ¬ê°„ ì¤‘ <strong style="color:var(--orange)">ì‹¤ì œë¡œëŠ” ì§ì„  ë¹„í–‰ì¸ êµ¬ê°„</strong>ì„
                            ê±¸ëŸ¬ëƒ…ë‹ˆë‹¤.<br>
                            ë‘ ì¡°ê±´ì´ <u>ëª¨ë‘</u> ì°¸ì´ì–´ì•¼ <code style="color:var(--orange)">Rotate_Error</code>ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.</p>

                        <div style="margin-top:16px; display:grid; gap:12px;">
                            <div style="background:var(--bg3); border-radius:10px; padding:14px 16px;">
                                <div style="color:var(--blue); font-weight:700; margin-bottom:8px;">â‘  GPS ì„ í˜•ì„± ê²€ì‚¬ (PCA)
                                </div>
                                <p style="font-size:.87rem; color:var(--text2);">
                                    Rotate êµ¬ê°„ì˜ ìœ„ë„/ê²½ë„ ì¢Œí‘œ ì „ì²´ì— PCAë¥¼ ì ìš©í•©ë‹ˆë‹¤.<br>
                                    <strong style="color:var(--text)">1st ì£¼ì„±ë¶„ ì„¤ëª… ë¹„ìœ¨ â‰¥ 0.97</strong>ì´ë©´ ê²½ë¡œê°€ ì§ì„  í˜•íƒœë¡œ íŒë‹¨ë©ë‹ˆë‹¤.
                                </p>
                                <div class="code-block" style="margin-top:10px;">pca.explained_variance_ratio_[<span
                                        class="num">0</span>] >= <span class="num">0.97</span>
                                    <span class="cm"># ì›Â·8ì ë¹„í–‰: ~0.5 (ë‚®ìŒ â†’ íšŒì „)
                                        # ì§ì„  ë¹„í–‰: ~0.99 (ë†’ìŒ â†’ Error í›„ë³´)</span>
                                </div>
                            </div>

                            <div style="background:var(--bg3); border-radius:10px; padding:14px 16px;">
                                <div style="color:var(--purple); font-weight:700; margin-bottom:8px;">â‘¡ Yaw ì´ ë³€í™”ëŸ‰ ê²€ì‚¬
                                </div>
                                <p style="font-size:.87rem; color:var(--text2);">
                                    êµ¬ê°„ ë‚´ Yaw_unwrapì˜ ìµœëŒ“ê°’ â€“ ìµœì†Ÿê°’ì„ ê³„ì‚°í•©ë‹ˆë‹¤.<br>
                                    <strong style="color:var(--text)">Yaw ë³€í™” &lt; 45Â°</strong>ë©´ ë°©í–¥ì´ ì‹¤ì§ˆì ìœ¼ë¡œ ë°”ë€Œì§€ ì•Šì€ ê²ƒìœ¼ë¡œ
                                    ë´…ë‹ˆë‹¤.
                                </p>
                                <div class="code-block" style="margin-top:10px;">yaw_change = Yaw_unwrap.max() -
                                    Yaw_unwrap.min()
                                    yaw_change &lt; <span class="num">45.0</span> <span class="cm"># ë„(Â°)</span>

                                    <span class="cm"># ì§ì„  ë¹„í–‰: ~0â€“10Â° â†’ Error í›„ë³´
                                        # 130Â° êº¾ì„(Vì): ~130Â° â†’ ì‹¤ì œ íšŒì „ âœ…</span>
                                </div>
                            </div>
                        </div>

                        <div class="decision">
                            <div class="decision-yes">
                                <div class="label">âœ… ì •ìƒ Rotate (State_Final = 1)</div>
                                <p>GPSê°€ 2Dë¡œ í¼ì§ (ì›/8ì)<br><em>ë˜ëŠ”</em><br>Yaw ë³€í™” â‰¥ 45Â° (Vì êº¾ì„ í¬í•¨)</p>
                            </div>
                            <div class="decision-no">
                                <div class="label">âš ï¸ Rotate_Error (State_Final = 3)</div>
                                <p>GPSê°€ ì§ì„  í˜•íƒœ (PCA ratio â‰¥ 0.97)<br><em>ë™ì‹œì—</em><br>Yaw ë³€í™” &lt; 45Â°</p>
                            </div>
                        </div>

                        <div class="callout">
                            <strong>ğŸ’¡ Vì(í—¤ì–´í•€) ì˜ˆì™¸ ì²˜ë¦¬</strong><br>
                            130Â° êº¾ì„ì€ GPS ê²½ë¡œê°€ ì¢ì€ Vìë¼ PCAë¡œ ì§ì„ ì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                            í•˜ì§€ë§Œ Yaw ë³€í™”ëŸ‰ì´ ~130Â°ë¡œ í¬ê¸° ë•Œë¬¸ì— â‘¡ ì¡°ê±´ì—ì„œ ê±¸ëŸ¬ì ¸ <strong>ì •ìƒ Rotate</strong>ë¡œ ì˜¬ë°”ë¥´ê²Œ ë¶„ë¥˜ë©ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 4: Chain Merge -->
            <div class="step">
                <div class="step-dot" style="background: linear-gradient(135deg,#3fb950,#2ea043); color:#fff;">4</div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”—</span>
                        <div>
                            <div class="card-title">Line â†” Rotate_Error ì²´ì¸ ë³‘í•©</div>
                            <div class="card-subtitle">ì—°ì†ëœ L-E-L-E-L íŒ¨í„´ë„ í•˜ë‚˜ë¡œ í†µí•©</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <p>ì‹¤ì œ Rotate(1)ì— ì˜í•´ ëŠê¸°ì§€ ì•ŠëŠ” í•œ, <code style="color:var(--blue)">Line(0)</code>ê³¼ <code
                                style="color:var(--orange)">Rotate_Error(3)</code>ê°€ ì´ì–´ì§„ êµ¬ê°„ë“¤ì„ í•˜ë‚˜ì˜ "run"ìœ¼ë¡œ ë¬¶ìŠµë‹ˆë‹¤.<br>
                            run ë‚´ì—ì„œ <strong>ì²« Line ~ ë§ˆì§€ë§‰ Line ì‚¬ì´</strong>ì˜ ëª¨ë“  ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì²« Lineì˜ IDë¡œ í†µí•©í•©ë‹ˆë‹¤.</p>

                        <div class="section-label" style="margin-top:16px;">ë³‘í•© íŒ¨í„´ ì˜ˆì‹œ</div>
                        <div class="pattern-grid">
                            <div class="pattern-box">
                                <div class="pattern-label">3êµ¬ê°„ íŒ¨í„´ (ê¸°ë³¸)</div>
                                <div class="pattern-before">L â€“ E â€“ L</div>
                                <div class="pattern-after">â†’ L â€”â€”â€”â€”</div>
                            </div>
                            <div class="pattern-box">
                                <div class="pattern-label">5êµ¬ê°„ ì²´ì¸</div>
                                <div class="pattern-before">L â€“ E â€“ L â€“ E â€“ L</div>
                                <div class="pattern-after">â†’ L â€”â€”â€”â€”â€”â€”â€”â€”â€”</div>
                            </div>
                            <div class="pattern-box">
                                <div class="pattern-label">7êµ¬ê°„ ì²´ì¸</div>
                                <div class="pattern-before">L â€“ E â€“ L â€“ E â€“ L â€“ E â€“ L</div>
                                <div class="pattern-after">â†’ L â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</div>
                            </div>
                            <div class="pattern-box">
                                <div class="pattern-label">ì•/ë’¤ ê³ ë¦½ Error ìœ ì§€</div>
                                <div class="pattern-before">E â€“ L â€“ E â€“ L â€“ E</div>
                                <div class="pattern-after">E | L â€”â€”â€” | E</div>
                            </div>
                        </div>

                        <div class="callout" style="margin-top:16px;">
                            <strong>ê·œì¹™ ìš”ì•½</strong><br>
                            â€¢ <strong>ì•ì— Line ì—†ëŠ” Error</strong>: ê·¸ëŒ€ë¡œ Rotate_Error ìœ ì§€<br>
                            â€¢ <strong>ë’¤ì— Line ì—†ëŠ” Error</strong>: ê·¸ëŒ€ë¡œ Rotate_Error ìœ ì§€<br>
                            â€¢ <strong>ì‹¤ì œ Rotate(1)ëŠ” ê²½ê³„</strong>: runì„ ê°•ì œë¡œ ë¶„ë¦¬í•˜ì—¬ ë³‘í•© ì˜ì—­ì„ ì œí•œ<br>
                            â€¢ ë³‘í•©ëœ êµ¬ê°„ì€ ëª¨ë‘ <code>State_Final = 0</code> (Line)ìœ¼ë¡œ êµì •
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 5: Map Visualization -->
            <div class="step">
                <div class="step-dot" style="background: linear-gradient(135deg,#e3b341,#d29922); color:#fff;">5</div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ—ºï¸</span>
                        <div>
                            <div class="card-title">ì§€ë„ ì‹œê°í™” (Folium)</div>
                            <div class="card-subtitle">íƒ€ì…ë³„ ìƒ‰ìƒÂ·ìŠ¤íƒ€ì¼ êµ¬ë¶„ í‘œì‹œ</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-line" style="background:var(--blue);"></div>
                                <div class="legend-meta">
                                    <div class="legend-name">Line &nbsp;<span
                                            style="font-family:'JetBrains Mono',monospace;font-size:.78rem;color:var(--text2)">State_Final
                                            = 0</span></div>
                                    <div class="legend-detail">ì‹¤ì„  3px Â· íŒ”ë ˆíŠ¸ ìƒ‰ìƒ ìˆœí™˜ Â· ë ˆì´ë¸”: Line-N</div>
                                </div>
                            </div>
                            <div class="legend-item">
                                <div class="legend-line"
                                    style="background:var(--purple); border-top: 2px dashed var(--purple); height: 0;">
                                </div>
                                <div class="legend-meta">
                                    <div class="legend-name">Rotate &nbsp;<span
                                            style="font-family:'JetBrains Mono',monospace;font-size:.78rem;color:var(--text2)">State_Final
                                            = 1</span></div>
                                    <div class="legend-detail">ì ì„ (5,5) 5px Â· íŒ”ë ˆíŠ¸ ìƒ‰ìƒ ìˆœí™˜ Â· ë ˆì´ë¸”: Rotate-N</div>
                                </div>
                            </div>
                            <div class="legend-item">
                                <div class="legend-line"
                                    style="background:var(--orange); border-top: 2px dashed var(--orange); height:0;">
                                </div>
                                <div class="legend-meta">
                                    <div class="legend-name">Rotate_Error &nbsp;<span
                                            style="font-family:'JetBrains Mono',monospace;font-size:.78rem;color:var(--text2)">State_Final
                                            = 3</span></div>
                                    <div class="legend-detail">ê¸´ ì ì„ (10,5) 5px Â· ì£¼í™©ìƒ‰ ê³ ì • Â· ë ˆì´ë¸”: âš ï¸ Rotate_Error-N</div>
                                </div>
                            </div>
                        </div>

                        <p style="margin-top:14px; font-size:.87rem;">
                            ê°™ì€ <code>Final_Segment_ID</code>ë¥¼ ê°€ì§„ í¬ì¸íŠ¸ê°€ ì‹œê°„ìƒ ë¶ˆì—°ì†ì¸ ê²½ìš°,
                            <strong>ì¸ë±ìŠ¤ ê°­ì„ ê°ì§€</strong>í•˜ì—¬ ë³„ë„ ì„ ìœ¼ë¡œ ë¶„ë¦¬í•´ ê·¸ë¦½ë‹ˆë‹¤. (ë™ê·¸ë€ êµ¬ê°„ì´ ì§ì„ ìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ë²„ê·¸ ë°©ì§€)
                        </p>
                    </div>
                </div>
            </div>

            <!-- STEP 6: Final State Summary -->
            <div class="step">
                <div class="step-dot" style="background: linear-gradient(135deg,#39d353,#26a641); color:#fff;">6</div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“Š</span>
                        <div>
                            <div class="card-title">ìµœì¢… State ì •ì˜ ìš”ì•½</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <table class="summary-table">
                            <thead>
                                <tr>
                                    <th>State_Final</th>
                                    <th>ì´ë¦„</th>
                                    <th>íŒë‹¨ ê¸°ì¤€</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="mono" style="color:var(--blue);">0</span></td>
                                    <td><strong style="color:var(--blue);">Line</strong></td>
                                    <td>HMM â†’ Straight, ë˜ëŠ” Rotate_Errorê°€ Lineìœ¼ë¡œ ë³‘í•©ëœ êµ¬ê°„</td>
                                </tr>
                                <tr>
                                    <td><span class="mono" style="color:var(--purple);">1</span></td>
                                    <td><strong style="color:var(--purple);">Rotate</strong></td>
                                    <td>HMM â†’ Turn <em>ì´ê³ </em> (GPS 2D ë¶„í¬ or Yaw â‰¥ 45Â°)</td>
                                </tr>
                                <tr>
                                    <td><span class="mono" style="color:var(--orange);">3</span></td>
                                    <td><strong style="color:var(--orange);">Rotate_Error</strong></td>
                                    <td>HMM â†’ Turn <em>ì´ì§€ë§Œ</em> GPSê°€ ì§ì„ í˜• <em>ì´ê³ </em> Yaw &lt; 45Â°<br>
                                        <span style="font-size:.78rem;">(1ì ì§ì„  ë¹„í–‰ ë“± ì˜¤ë¶„ë¥˜ êµ¬ê°„)</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div><!-- /pipeline -->

        <footer>
            Naranja Drone Analysis Pipeline &nbsp;Â·&nbsp; 2026
        </footer>

    </div>
</body>

</html>